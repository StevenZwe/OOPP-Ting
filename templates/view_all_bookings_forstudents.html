{% extends 'layout.html' %}

{% block body %}
{% from "includes/_formhelper.html" import render_field %}
    <style>
    .custom-select {
  position: relative;
  font-family: Arial;
}

.custom-select select {
  display: none; /*hide original SELECT element: */
}

.select-selected {
  background-color: DodgerBlue;
}

/* Style the arrow inside the select element: */
.select-selected:after {
  position: absolute;
  content: "";
  top: 14px;
  right: 10px;
  width: 0;
  height: 0;
  border: 6px solid transparent;
  border-color: #fff transparent transparent transparent;
}

/* Point the arrow upwards when the select box is open (active): */
.select-selected.select-arrow-active:after {
  border-color: transparent transparent #fff transparent;
  top: 7px;
}

/* style the items (options), including the selected item: */
.select-items div,.select-selected {
  color: #ffffff;
  padding: 8px 16px;
  border: 1px solid transparent;
  border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;
  cursor: pointer;
}

/* Style items (options): */
.select-items {
  position: absolute;
  background-color: DodgerBlue;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 99;
}

/* Hide the items when the select box is closed: */
.select-hide {
  display: none;
}

.select-items div:hover, .same-as-selected {
  background-color: rgba(0, 0, 0, 0.1);
}
    </style>
            <script>
        $(document).ready(function () {
            $('#confirm').hide();
            $('#reject').hide();
            $('#pending').show();

            $('.custom-select').change(function () {
                if ($(this).children("option:selected").val() == 'confirm') {
                    $('#confirm').show();
                    $('#reject').hide();
                    $('#pending').hide();
                }
                else if ($(this).children("option:selected").val() == 'reject') {
                    $('#reject').show();
                    $('#pending').hide();
                    $('#confirm').hide();
                }
                else if ($(this).children("option:selected").val() == 'pending') {
                    $('#pending').show();
                    $('#reject').hide();
                    $('#confirm').hide();
                }
            });
        })

    </script>

        <form method="POST" action="">
        </form>
    <span>
    <h1>View Bookings Of Lecturers </h1>
                    &nbsp;&nbsp; {{ render_field(form.pubtype,class_="custom-select", style="width:200px;") }}
</span>
    <br>
    <br>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Lecturer</th>
            <th>Date</th>
            <th>Time</th>
            <th>Status</th>
            <th>Description</th>
        </tr>


           <tbody id="confirm">
        {% if confirm != '' %}
            {% for confirm in booking %}
                <tr>
                {% if confirm.get_status() == 'Accepted' %}
                    {% if confirm.get_student_name()==request.cookies.get('admin_no') %}
                    <td>{{ confirm.get_name() }}</td>
                    <td>{{ confirm.get_date() }}</td>
                    <td>{{ confirm.get_time()}}</td>
                    <td>{{ confirm.get_status() }}</td>
                    <td>{{ confirm.get_info() }}</td>
                {% endif %}
                {% endif %}

            </tr>
            {% endfor %}
        {% else %}
            <tr>
            <td></td>
            <td></td>
            <td></td>

            </tr>
        {% endif %}
        </tbody>

           <tbody id="reject">
        {% if rejected != '' %}
            {% for rejected in booking %}
                <tr>
                {% if rejected.get_status() == 'Rejected' %}
                        {% if rejected.get_student_name()==request.cookies.get('admin_no') %}
                    <td>{{ rejected.get_name() }}</td>
                    <td>{{ rejected.get_date() }}</td>
                    <td>{{ rejected.get_time()}}</td>
                    <td>{{ rejected.get_status() }}</td>
                    <td>{{ rejected.get_info() }}</td>
                {% endif %}
                {% endif %}
            </tr>
            {% endfor %}
        {% else %}
            <tr>
            <td></td>
            <td></td>
            <td></td>

            </tr>
        {% endif %}
        </tbody>

        <tbody id="pending">
        {% if pending != '' %}
            {% for booking in booking %}
                <tr>
                {% if booking.get_status() == 'Pending' %}
                        {% if booking.get_student_name()==request.cookies.get('admin_no') %}
                    <td>{{ booking.get_name() }}</td>
                    <td>{{ booking.get_date() }}</td>
                    <td>{{ booking.get_time()}}</td>
                    <td>{{ booking.get_status() }}</td>
                    <td>{{ booking.get_info() }}</td>
                {% endif %}
                {% endif %}

            </tr>
            {% endfor %}
        {% else %}
            <tr>
            <td></td>
            <td></td>
            <td></td>

            </tr>
        {% endif %}


        </tbody>

    </table>

{% endblock %}